---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Traditional Calculator" description="Perform basic arithmetic operations with this traditional calculator.">
  <div class="max-w-sm mx-auto mt-8">
    <div id="calc" class="bg-white p-4 rounded-lg shadow-lg">
      <input
        id="display"
        class="w-full mb-2 p-3 border rounded text-right text-2xl bg-gray-100 text-slate-900"
        readonly
      />
      <div class="grid grid-cols-4 gap-2">
        <button
          data-value="7"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >7</button>
        <button
          data-value="8"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >8</button>
        <button
          data-value="9"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >9</button>
        <button
          data-value="/"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >÷</button>
        <button
          data-value="4"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >4</button>
        <button
          data-value="5"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >5</button>
        <button
          data-value="6"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >6</button>
        <button
          data-value="*"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >×</button>
        <button
          data-value="1"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >1</button>
        <button
          data-value="2"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >2</button>
        <button
          data-value="3"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >3</button>
        <button
          data-value="-"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >−</button>
        <button
          data-value="0"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >0</button>
        <button
          data-value="."
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >.</button>
        <button
          data-value="="
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >=</button>
        <button
          data-value="+"
          class="p-2 rounded border bg-gray-100 text-slate-900 hover:bg-gray-200 active:bg-gray-300 transition-colors font-semibold"
        >+</button>
        <button
          data-value="C"
          class="col-span-4 p-2 rounded border bg-red-500 hover:bg-red-600 text-white font-semibold"
        >C</button>
      </div>
    </div>
  </div>

  <script>
    const display = document.getElementById('display');
    const buttons = document.querySelectorAll('#calc button');
    let current = '';
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        const val = btn.dataset.value;
        if (val === 'C') {
          current = '';
        } else if (val === '=') {
          try {
            current = eval(current).toString();
          } catch {
            current = 'Error';
          }
        } else {
          current += val;
        }
        display.value = current;
      });
    });
  </script>
</BaseLayout>

