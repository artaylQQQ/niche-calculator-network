---
// Home listing with cards grid
import BaseLayout from '../layouts/BaseLayout.astro';
const pages = await Astro.glob('./calculators/*.mdx');
const items = pages
  .map((p) => ({
    url: p.url,
    title: p.frontmatter?.title ?? 'Calculator',
    description: p.frontmatter?.description ?? 'Online calculator.',
    cluster: p.frontmatter?.cluster ?? 'General'
  }))
  .sort((a,b) => a.title.localeCompare(b.title))
  .slice(0, 60); // cap listing
---
<BaseLayout title="Online Calculators" description="Fast, accurate calculators for finance, conversions, percentages and more.">
  <section class="hero">
    <h1>Online Calculators</h1>
    <p>Fast, accurate calculators for finance, conversions, percentages and more.</p>
  </section>

  <section id="calculators" aria-label="Calculators">
    <div class="grid">
      {items.map((it) => (
        <a class="card" href={it.url}>
          <h3>{it.title}</h3>
          <p>{it.description}</p>
          <div class="meta">
            <span class="badge">{it.cluster}</span>
            <span class="badge">Calculator</span>
          </div>
        </a>
      ))}
    </div>
  </section>
</BaseLayout>
