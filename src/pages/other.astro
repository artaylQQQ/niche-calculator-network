---
import BaseLayout from "../layouts/BaseLayout.astro";
// This page lists calculators that do not fit into another major category.
// The slug is `other` and it reads all available MDX files, filtering
// calculators whose `cluster` (category) is lowerâ€‘cased to `other`.  If no
// calculators are available a placeholder message is shown.
const slug = "other";
const title = "Other Calculators";
const modules = import.meta.glob("../pages/calculators/*.mdx", { eager: true });
const items = Object.values(modules).map((m) => ({ url: m.url, fm: m.frontmatter || {} }));
const list = items.filter(i => (i.fm.cluster || "").toLowerCase() === slug);
---
<BaseLayout title={title} description={`Browse ${slug} calculators`}>
  <section class="hero">
    <h1>{title}</h1>
    <p>Explore calculators in this category.</p>
  </section>
  {list.length === 0 ? (
    <p class="section"><em>No calculators available in this category.</em></p>
  ) : (
    <section class="section" aria-labelledby={`list-${slug}`}>
      <h2 id={`list-${slug}`} class="sr-only">Calculators list</h2>
      <ul class="grid">
        {list.map((it) => (
          <li>
            <a class="card" href={it.url}>
              <h3>{it.fm.title || it.url.replace('/calculators/','').replace('.mdx','')}</h3>
              <p>{it.fm.intro || it.fm.description || ''}</p>
            </a>
          </li>
        ))}
      </ul>
    </section>
  )}
</BaseLayout>